{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <div>

        <h1>{{ profile.user.username }}'s Profile </h1>
    <a href="{% url 'update_user' pk=user.id %}">Update User</a>

        <br/>

        {% if posts %}
		{% for post in posts %}

    </div>
    <div class="alert alert-dark" role="alert">
	    <div class="container">
		    <div class="row">
			    <div class="col-1">
                    {% if profile.profile_image %}
                    <img src="{{ profile.profile_image.url }}"class="rounded-circle" >
                    {% else %}
                    <img src="{% static 'images/default_profile_pic.png' %}" width=50 height=50 class="rounded-circle" alt="{{ profile.user.username }}">
                    {% endif %}
                </div>
                <div class="col-11">
                    <h3>{{post.title}}</h3>
                   <p> {{post.description}}</p>
					<img src="{{post.image.url}}" alt="">
                    <br/>
			  				<small class="text-muted">
			  					({{ post.created_at}}) By
			  					@{{ post.user.username }}
			  		- {{ post.number_of_likes }} Likes -

			  		{% if user in post.likes.all %}
				  	  <a href="{% url 'post_like' post.id %}"><i class="fa-solid fa-heart" style='color:red'></i></a>
				  	{% else %}
				  		<a href="{% url 'post_like' post.id %}"><i class="fa fa-heart-o" style="color:red"></i></a>
				  	{% endif %}

				  	&nbsp;<a href="{% url 'post_show' post.id %}"><i class="fa-solid fa-share" style="color:gray"></i></a>


                    {% if request.user.username == profile.user.username %}
                                &nbsp;&nbsp;
                    <a href="{% url 'delete_post' post.id %}"><i class="fa fa-trash" style="color:gray"></i></a>
                            &nbsp;&nbsp;
                    {% endif %}

			  				</small>
						</div><br/><br/>
			</div>
		</div>
	</div>

 {% endfor %}
    {% endif %}

</div>

<div class="col-4">

{% if profile.profile_image %}
				<img src="{{ profile.profile_image.url }}" class="rounded-circle">
				<br/><br/>
				{% endif %}
	</div>
<div class="col-4">
{% if profile.profile_bio %}
	<p align="justify">
		{{profile.profile_bio }}
	</p>
	<p> Registrated on {{ profile.date_modified }}</p>
{% endif %}
</div>
<div class="col-4">
    {% if request.user.id == profile.user.id %}
		<a href="{% url 'update_user' %}" class="btn btn-outline-secondary">Update Profile</a>
	{% endif %}
</div>


{% endblock %}