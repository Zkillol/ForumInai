{% extends 'base.html' %}

{% block content %}

<h1>Home page</h1>


	<div class="container text-center">
		<div class="row">
			<div class="col-8">
                <h2>POSTS</h2>
                <br/>
                {% for post in posts %}
                <div class="alert alert-warning mt-2">
                    <div class="container">
                        <div class="row">
							<div class="col-1">
								{% if post.user.profile.profile_image %}
								<img src="{{ post.user.profile.profile_image.url }}" width=50 height=50 class="rounded-circle" alt="{{ profile.user.username }}">
								{% else %}
								<img src="{% endif %}" width=50 height=50 class="rounded-circle" alt="{{ profile.user.username }}">

							</div>
							<div class="col-11">
								<h3>{{post.title}}</h3>
								{{post.description}}
								<br/>
										<small class="text-muted">
											({{ post.created_at}}) By <a href="{% url 'profile' id=post.user.id %}"><i class="fi fi-sr-user"></i> @{{ post.user.username }} </a>
								- {{ post.number_of_likes }} Likes -

								{% if user in post.likes.all %}
								  <a href="{% url 'post_like' post.id %}"><i class="fa-solid fa-heart" style='color:red'></i></a>
								{% else %}
									<a href="{% url 'post_like' post.id %}"><i class="fa fa-heart-o" style="color:red"></i></a>
								{% endif %}

							  	&nbsp;<a href="{% url 'post_show' post.id %}"><i class="fa-solid fa-share" style="color:gray"></i></a>


			                    {% if request.user.username == profile.user.username %}
			                                &nbsp;&nbsp;
			                    <a href="{% url 'delete_post' post.id %}"><i class="fa fa-trash" style="color:gray"></i></a>
			                            &nbsp;&nbsp;
			                    <a href="{% url 'edit_post' post.id %}"><i class="fa fa-edit" style="color:gray"></i></a>
			                    {% endif %}

			  							</small>
							</div><br/><br/>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>
	</div>

{% endblock %}
